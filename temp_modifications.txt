# –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å import PhotosUI –ø–æ—Å–ª–µ import Photos
/import Photos/a\
import PhotosUI

# –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –ø–æ—Å–ª–µ changeBackgroundButton
/private let changeBackgroundButton = UIButton(type: .system)/a\
    private let addImageButton = UIButton(type: .system)

# –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è frame picker
/private var textLayers: \[TextLayerView\] = \[\]/a\
    \
    // Frame picker –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\
    private var framePickerView: FramePickerView?\
    private var isAddingNewImageWithFrame = false\
    private var selectedImageForFraming: UIImage?

# –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
/changeBackgroundButton.layer.cornerRadius = 8/a\
        \
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\
        addImageButton.setTitle("+ üì∑", for: .normal)\
        addImageButton.titleLabel?.font = UIFont.systemFont(ofSize: 16)\
        addImageButton.backgroundColor = .systemBlue\
        addImageButton.setTitleColor(.white, for: .normal)\
        addImageButton.layer.cornerRadius = 8

# –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–µ—Ä–∞—Ä—Ö–∏—é view
/view.addSubview(changeBackgroundButton)/a\
        view.addSubview(addImageButton)

# –®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å constraints
/make.height.equalTo(40)/a\
        }\
        \
        addImageButton.snp.makeConstraints { make in\
            make.trailing.equalTo(changeBackgroundButton.snp.leading).offset(-10)\
            make.bottom.equalTo(slidersContainerView.snp.top).offset(-10)\
            make.width.equalTo(70)\
            make.height.equalTo(40)

# –®–∞–≥ 7: –î–æ–±–∞–≤–∏—Ç—å –≤ ensureButtonsOnTop
/view.bringSubviewToFront(changeBackgroundButton)/a\
        view.bringSubviewToFront(addImageButton)

# –®–∞–≥ 8: –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è
/.disposed(by: disposeBag)/a\
        \
        addImageButton.rx.tap\
            .subscribe(onNext: { [weak self] in\
                self?.showImagePickerWithFrameSelection()\
            })\
            .disposed(by: disposeBag)
